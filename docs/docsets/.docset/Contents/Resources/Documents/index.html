<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (61% documented)</p>
        <p class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/YamaseeCore.html">YamaseeCore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/AircraftSize.html">AircraftSize</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Environment.html">Environment</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ForgotPasswordError.html">ForgotPasswordError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/GeneralError.html">GeneralError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/LoginError.html">LoginError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PartnerLoginError.html">PartnerLoginError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TurbulenceSeverity.html">TurbulenceSeverity</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/WeatherType.html">WeatherType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/YMLocationState.html">YMLocationState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/NSError.html">NSError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols.html#/s:7Yamasee7YSErrorP">YSError</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/YamaseeCoreDelegate.html">YamaseeCoreDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Aircraft.html">Aircraft</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Airport.html">Airport</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Traffic.html">Traffic</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TurbulenceItem.html">TurbulenceItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/User.html">User</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Weather.html">Weather</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/YMLocation.html">YMLocation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:7Yamasee6WXTypea">WXType</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:7Yamasee11WeatherItema">WeatherItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:7Yamasee0A12AircraftTypea">YamaseeAircraftType</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:7Yamasee0A8Locationa">YamaseeLocation</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:7Yamasee0A13LocationStatea">YamaseeLocationState</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><img src="./docs-logo.jpg" alt="SkyPath: Turbulence alert system">
<a href=""><img src="https://img.shields.io/github/v/release/Yamasee/skypath-ios-sdk" alt="Version"></a></p>
<h1 id='skypath-by-yamasee-ios-sdk' class='heading'>SkyPath by Yamasee iOS SDK</h1>

<p>SkyPath&rsquo;s goal is delivery of accurate real-time turbulence data, based on crowdsourcing <a href="https://skypath.app/">https://skypath.app</a></p>
<h2 id='description' class='heading'>Description</h2>

<p>Yamasee supplies its partners who wish to integrate SkyPath technology, an iOS SDK that enables rapid and seamless integration into existing iOS apps. The SDK doesn’t assume anything regarding the app UI, and supplies needed abstraction for SkyPath push and pull server REST API communication, turbulence measurements, and turbulence alerts.</p>

<p>SDK API <a href="https://yamasee.github.io/skypath-ios-sdk">documentation</a></p>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 11.0+</li>
<li>Xcode 12.5+</li>
<li>Swift 5.0+</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='manually' class='heading'>Manually</h3>

<p>You can integrate SkyPath into your project manually. </p>

<ul>
<li>Download Yamasee.xcframework</li>
<li>Copy Yamasee.xcframework to a project directory</li>
<li>In Xcode project target in <code>General</code> tab, in <code>Frameworks, Libraries, and Embedded Content</code> tap &ldquo;Add items&rdquo;, choose a Yamasee.xcframework file. Make sure the added framework &ldquo;Embed&rdquo; value is set to <code>Embed &amp; Sign</code></li>
<li><code>import Yamasee</code> where needed</li>
</ul>
<h4 id='background-modes' class='heading'>Background Modes</h4>

<p>The location can be used while the app is in background to keep tracking and alert turbulence. The <code>Location updates</code> background mode is needed.<br>
Make sure the  <code>Privacy - Location When In Use Usage Description</code> description is provided in the Info.plist of the project. </p>
<h2 id='usage' class='heading'>Usage</h2>
<h4 id='setup' class='heading'>Setup</h4>

<p>You need to get an API key and server URL from Yamasee to use the SDK. <br>
You can <a href="https://skypath.app/contact/">contact us</a> and request a demo. <br></p>

<p>The SDK has an entry point class <code><a href="Classes/YamaseeCore.html">YamaseeCore</a></code>, start the SDK early on app launch (for example in application did finish delegate method) before making other API calls.</p>
<pre class="highlight swift"><code><span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span>
    <span class="nv">apiKey</span><span class="p">:</span> <span class="s">"YAMASEE_API_KEY"</span><span class="p">,</span>
    <span class="nv">baseUrl</span><span class="p">:</span> <span class="s">"YAMASEE_BASE_URL"</span><span class="p">,</span>
    <span class="nv">env</span><span class="p">:</span> <span class="o">.</span><span class="n">development</span> <span class="o">|</span> <span class="o">.</span><span class="n">production</span><span class="p">)</span>
</code></pre>
<h4 id='login' class='heading'>Login</h4>

<p>You need to identify the user in the system by login as a partner, where <code>userId</code> is a pilot identifier, and <code>companyId</code> is provided to you by Yamasee.</p>
<pre class="highlight swift"><code><span class="k">guard</span> <span class="o">!</span><span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">isLoggedIn</span><span class="p">()</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span>
<span class="p">}</span>
<span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">partnerLogin</span><span class="p">(</span>
    <span class="nv">userId</span><span class="p">:</span> <span class="n">userId</span><span class="p">,</span> 
    <span class="nv">companyId</span><span class="p">:</span> <span class="n">companyId</span><span class="p">)</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">success</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">success</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"logged in successfully"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"failed to login"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// logout when needed</span>
<span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">logout</span><span class="p">()</span>
</code></pre>
<h4 id='turbulence' class='heading'>Turbulence</h4>

<p>SDK provides turbulence data in a GeoJSON format and as an array of models.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">json</span> <span class="o">=</span> <span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">getTurbulenceGeoJson</span><span class="p">(</span>
    <span class="nv">altRange</span><span class="p">:</span> <span class="n">altRange</span><span class="p">,</span>
    <span class="nv">timeSpan</span><span class="p">:</span> <span class="n">timeSpan</span><span class="p">)</span>
</code></pre>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">turbItems</span> <span class="o">=</span> <span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">getTurbulence</span><span class="p">(</span>
    <span class="nv">altRange</span><span class="p">:</span> <span class="n">altRange</span><span class="p">,</span>
    <span class="nv">timeSpan</span><span class="p">:</span> <span class="n">timeSpan</span><span class="p">)</span>                     
</code></pre>
<h4 id='turbulence-alerts' class='heading'>Turbulence Alerts</h4>

<p>Get turbulence alerts ahead.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">altitude</span><span class="p">:</span> <span class="kt">Measurement</span><span class="o">&lt;</span><span class="kt">UnitLength</span><span class="o">&gt;</span> <span class="o">=</span> <span class="kt">Measurement</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">altitude</span><span class="p">,</span> <span class="nv">unit</span><span class="p">:</span> <span class="o">.</span><span class="n">meters</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">tiles</span> <span class="o">=</span> <span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">getAlertTiles</span><span class="p">(</span>
    <span class="nv">lat</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">coordinate</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
    <span class="nv">long</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">coordinate</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
    <span class="nv">altitude</span><span class="p">:</span> <span class="n">altitude</span><span class="p">,</span>
    <span class="nv">heading</span><span class="p">:</span> <span class="kt">Measurement</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">course</span><span class="p">,</span> <span class="nv">unit</span><span class="p">:</span> <span class="o">.</span><span class="n">degrees</span><span class="p">),</span>
    <span class="nv">timeSpan</span><span class="p">:</span> <span class="n">timeSpan</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">turbulences</span><span class="p">:</span> <span class="p">[</span><span class="kt">TurbulenceItem</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">tiles</span><span class="o">.</span><span class="n">alertTilesAbove</span><span class="p">,</span> 
    <span class="n">tiles</span><span class="o">.</span><span class="n">alertTilesAtAlt</span><span class="p">,</span> 
    <span class="n">tiles</span><span class="o">.</span><span class="n">alertTilesBelow</span><span class="p">]</span>
    <span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span> <span class="nv">$0</span> <span class="p">}</span>
</code></pre>
<h4 id='weather' class='heading'>Weather</h4>

<p>The following weather data types are supported: clouds, lightning, wind-shear.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">weather</span><span class="p">:</span> <span class="p">[</span><span class="kt">Weather</span><span class="p">]</span> <span class="o">=</span> <span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">getWeather</span><span class="p">(</span>
    <span class="nv">types</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">cb</span><span class="p">,</span> <span class="o">.</span><span class="n">lightning</span><span class="p">,</span> <span class="o">.</span><span class="n">shear</span><span class="p">],</span>
    <span class="nv">altRange</span><span class="p">:</span> <span class="kt">Constants</span><span class="o">.</span><span class="kt">Altitude</span><span class="o">.</span><span class="n">maxRangeFeet</span><span class="p">,</span>
    <span class="nv">timeSpan</span><span class="p">:</span> <span class="n">timeSpan</span><span class="p">)</span>
</code></pre>

<p>Report wheather example</p>
<pre class="highlight swift"><code><span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">reportWeather</span><span class="p">(</span>
    <span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">cb</span><span class="p">,</span>
    <span class="nv">location</span><span class="p">:</span> <span class="n">location</span><span class="p">)</span>
</code></pre>
<h4 id='aircraft' class='heading'>Aircraft</h4>

<p>To identify aircraft in the system set it from predefined in the SDK.</p>
<pre class="highlight swift"><code><span class="c1">// get all available aircraft types</span>
<span class="k">let</span> <span class="nv">aircrafts</span> <span class="o">=</span> <span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">aircrafts</span><span class="p">()</span>

<span class="c1">// choose appropriate and set an aircraft</span>
<span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setAircraft</span><span class="p">(</span><span class="n">aircraft</span><span class="p">)</span>
</code></pre>
<h4 id='angle-position' class='heading'>Angle Position</h4>

<p>To properly track the current tubulence the device should be correctly position in the cradle.<br>
You also will be notified by <code><a href="Protocols/YamaseeCoreDelegate.html">YamaseeCoreDelegate</a></code> calls that angle position changed and should be set again.</p>
<pre class="highlight swift"><code><span class="k">if</span> <span class="o">!</span><span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">isInPosition</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">showAngleCalibrationNotification</span><span class="p">()</span>
<span class="p">}</span>

<span class="c1">// when pilot tap "Set" button call</span>
<span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setAngle</span><span class="p">()</span>
</code></pre>
<h4 id='simulation' class='heading'>Simulation</h4>

<p>Use simulation mode functions to test</p>
<pre class="highlight swift"><code><span class="c1">// enter simulation mode</span>
<span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setSimulatorMode</span><span class="p">(</span><span class="nv">isLocationSimulatorOn</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
<span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setPushSimulatedEnabled</span><span class="p">(</span><span class="n">env</span> <span class="o">!=</span> <span class="o">.</span><span class="n">production</span><span class="p">)</span>

<span class="c1">// set custom location for simulation</span>
<span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">simulatedLocation</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>

<span class="c1">// exit simulation mode</span>
<span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setSimulatorMode</span><span class="p">(</span><span class="nv">isLocationSimulatorOn</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
</code></pre>
<h4 id='logger' class='heading'>Logger</h4>

<p>You can use logger to get more debug logs in a console.</p>
<pre class="highlight swift"><code><span class="kt">YamaseeCore</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setLogger</span><span class="p">(</span>
    <span class="nv">isOn</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
    <span class="nv">isSymbol</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
    <span class="nv">errorOn</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
    <span class="nv">infoOn</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
    <span class="nv">warningOn</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
    <span class="nv">networkOn</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="n">message</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h2 id='license' class='heading'>License</h2>

<p>Copyright © Yamasee LTD 2021. All rights reserved. 
See <a href="https://skypath.app/terms/">Terms &amp; Conditions</a>.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="https://skypath.app" target="_blank" rel="external">Yamasee LTD</a>. All rights reserved. (Last updated: 2021-05-11)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
