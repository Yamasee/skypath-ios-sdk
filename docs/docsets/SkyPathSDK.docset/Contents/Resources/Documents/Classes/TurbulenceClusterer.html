<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TurbulenceClusterer Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Class/TurbulenceClusterer" class="dashAnchor"></a>
    <a title="TurbulenceClusterer Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">SkyPathSDK 2.0.18 Docs</a> (86% documented)</p>
        <div class="header-right">
          <form role="search" action="../search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">SkyPathSDK Reference</a>
        <img id="carat" src="../img/carat.png" alt=""/>
        TurbulenceClusterer Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/H3.html">H3</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Logger.html">Logger</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SkyPath.html">SkyPath</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TurbulenceCluster.html">TurbulenceCluster</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TurbulenceClusterer.html">TurbulenceClusterer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TurbulenceClusterer/Options.html">– Options</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/AircraftSize.html">AircraftSize</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/AlertError.html">AlertError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/AlertResultType.html">AlertResultType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/DataHistoryTime.html">DataHistoryTime</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/DataUpdateFrequency.html">DataUpdateFrequency</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/Environment.html">Environment</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/GeneralError.html">GeneralError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/LoggingLevel.html">LoggingLevel</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/QueryError.html">QueryError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/StartError.html">StartError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/TurbulenceResultType.html">TurbulenceResultType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/TurbulenceSeverity.html">TurbulenceSeverity</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/TurbulenceTrend.html">TurbulenceTrend</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/Array.html">Array</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:10SkyPathSDK7SPErrorP">SPError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SkyPathDelegate.html">SkyPathDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/Aircraft.html">Aircraft</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AlertQuery.html">AlertQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AlertResult.html">AlertResult</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DataQuery.html">DataQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DataTypeOptions.html">DataTypeOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Flight.html">Flight</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Tile.html">Tile</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TurbulenceItem.html">TurbulenceItem</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TurbulencePolygonsQuery.html">TurbulencePolygonsQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TurbulencePolygonsResult.html">TurbulencePolygonsResult</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TurbulencePolygonsResultOptions.html">TurbulencePolygonsResultOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TurbulenceQuery.html">TurbulenceQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TurbulenceResult.html">TurbulenceResult</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TurbulenceResultOptions.html">TurbulenceResultOptions</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>TurbulenceClusterer</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">TurbulenceClusterer</span></code></pre>

                </div>
              </div>
            <p>Group <code><a href="../Structs/TurbulenceItem.html">TurbulenceItem</a></code> based on distance. New turbulence will be added to existing clusters or to new clusters.
Clusters will be removed when become empty or <code>reset()</code> called.
Usage example:</p>
<pre class="highlight swift"><code><span class="kd">private</span> <span class="k">let</span> <span class="nv">alertClusterer</span> <span class="o">=</span> <span class="kt">TurbulenceClusterer</span><span class="p">()</span>
<span class="o">...</span>
<span class="n">alertClusterer</span><span class="o">.</span><span class="nf">process</span><span class="p">(</span><span class="nv">turbulence</span><span class="p">:</span> <span class="n">alertResult</span><span class="o">.</span><span class="n">turbulence</span><span class="p">)</span> 
</code></pre>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10SkyPathSDK19TurbulenceClustererC7OptionsV"></a>
                    <a name="//apple_ref/swift/Struct/Options" class="dashAnchor"></a>
                    <a class="token" href="#/s:10SkyPathSDK19TurbulenceClustererC7OptionsV">Options</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Parameters for grouping turbulence into clusters.</p>

                        <a href="../Classes/TurbulenceClusterer/Options.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Options</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Properties"></a>
                <a name="//apple_ref/swift/Section/Properties" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Properties"></a>
                  <h3 class="section-name"><span>Properties</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10SkyPathSDK19TurbulenceClustererC8clustersSayAA0D7ClusterCGvp"></a>
                    <a name="//apple_ref/swift/Property/clusters" class="dashAnchor"></a>
                    <a class="token" href="#/s:10SkyPathSDK19TurbulenceClustererC8clustersSayAA0D7ClusterCGvp">clusters</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Generated clusters, updated after calling <code><a href="../Classes/TurbulenceClusterer.html#/s:10SkyPathSDK19TurbulenceClustererC7process10turbulenceySayAA0D4ItemVG_tF">process(turbulence:)</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">clusters</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/TurbulenceCluster.html">TurbulenceCluster</a></span><span class="p">]</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Lifecycle"></a>
                <a name="//apple_ref/swift/Section/Lifecycle" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Lifecycle"></a>
                  <h3 class="section-name"><span>Lifecycle</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10SkyPathSDK19TurbulenceClustererC7optionsA2C7OptionsV_tcfc"></a>
                    <a name="//apple_ref/swift/Method/init(options:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10SkyPathSDK19TurbulenceClustererC7optionsA2C7OptionsV_tcfc">init(options:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Default initializer.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">options</span><span class="p">:</span> <span class="kt">TurbulenceClusterer</span><span class="o">.</span><span class="kt"><a href="../Classes/TurbulenceClusterer/Options.html">Options</a></span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">())</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>options</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Options for clustering. Has default values.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Actions"></a>
                <a name="//apple_ref/swift/Section/Actions" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Actions"></a>
                  <h3 class="section-name"><span>Actions</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10SkyPathSDK19TurbulenceClustererC7process10turbulenceySayAA0D4ItemVG_tF"></a>
                    <a name="//apple_ref/swift/Method/process(turbulence:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10SkyPathSDK19TurbulenceClustererC7process10turbulenceySayAA0D4ItemVG_tF">process(turbulence:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Update clusters using turbulence. <code><a href="../Classes/TurbulenceClusterer.html#/s:10SkyPathSDK19TurbulenceClustererC8clustersSayAA0D7ClusterCGvp">clusters</a></code> array will be updated in the following way:
existing clusters&rsquo; turbulence that is not in <code>turbulence</code> anymore will be removed from the cluster
empty existing clusters will be removed
new cluster will be created when turbulence item can&rsquo;t be added to any of existing clusters</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">process</span><span class="p">(</span><span class="nv">turbulence</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/TurbulenceItem.html">TurbulenceItem</a></span><span class="p">])</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>turbulence</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Turbulence to group into clusters.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10SkyPathSDK19TurbulenceClustererC9isAlerted7clusterSbAA0D7ClusterC_tF"></a>
                    <a name="//apple_ref/swift/Method/isAlerted(cluster:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10SkyPathSDK19TurbulenceClustererC9isAlerted7clusterSbAA0D7ClusterC_tF">isAlerted(cluster:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Checks if the cluster has turbulence tlies that was already alerted (based on tiles) to not alert again.
For example, if turbulence in some tile was alerted when it was in cluster A, then later this turbulence moved to cluster B, it will not be alerted again even when it is in the different cluster.
Should be used in conjunction with <code><a href="../Classes/TurbulenceClusterer.html#/s:10SkyPathSDK19TurbulenceClustererC7alerted7clusteryAA0D7ClusterC_tF">alerted(cluster:)</a></code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">isAlerted</span><span class="p">(</span><span class="nv">cluster</span><span class="p">:</span> <span class="kt"><a href="../Classes/TurbulenceCluster.html">TurbulenceCluster</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>cluster</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A generated cluster to check turbulence in.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10SkyPathSDK19TurbulenceClustererC7alerted7clusteryAA0D7ClusterC_tF"></a>
                    <a name="//apple_ref/swift/Method/alerted(cluster:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10SkyPathSDK19TurbulenceClustererC7alerted7clusteryAA0D7ClusterC_tF">alerted(cluster:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Save cluster turbulence as alerted to check by <code><a href="../Classes/TurbulenceClusterer.html#/s:10SkyPathSDK19TurbulenceClustererC9isAlerted7clusterSbAA0D7ClusterC_tF">isAlerted(cluster:)</a></code> to not alert same turbulence multiple times.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">alerted</span><span class="p">(</span><span class="nv">cluster</span><span class="p">:</span> <span class="kt"><a href="../Classes/TurbulenceCluster.html">TurbulenceCluster</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>cluster</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A generated cluster to save turbulence tiles from.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10SkyPathSDK19TurbulenceClustererC5resetyyF"></a>
                    <a name="//apple_ref/swift/Method/reset()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10SkyPathSDK19TurbulenceClustererC5resetyyF">reset()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Removes generated and alerted clusters. Should be called when stopped monitoring alerts or stopped the route, or when not need to clustering any more.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">reset</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2023 <a class="link" href="https://skypath.io" target="_blank" rel="external noopener">SkyPath LTD</a>. All rights reserved. (Last updated: 2023-08-22)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
